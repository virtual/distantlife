{% extends "layout.html" %}

{% block title %}
    Profile
{% endblock %}

{% block main %}
    <dl class="list-inline">
        <dt>Username:</dt>
        <dd>{{ userinfo.username }} <small>(ID: {{ userinfo.id }})</small></dd>
 
    </dl>

    <form class="mx-auto centered" action="/updatelanguage" method="post">
      <fieldset>
          <legend>Learning Preferences</legend>
          <div class="form-group">
            <label for="orig_language">My native language is:</label>
            <select id="orig_language" name="orig_language">
              {% for lang in language_options %}
                {% if lang.id == userinfo.preferred_lang %}
                  <option selected data-char="{{ lang.charcode }}" value="{{ lang.id }}">{{ lang.name }}</option>
                {% else %}
                  <option data-char="{{ lang.charcode }}" value="{{ lang.id }}">{{ lang.name }}</option>
                {% endif %}
              {% endfor %}
            </select>
          </div>
          <div class="form-group">
            <label for="learning_lang">I want to learn:</label>
            <select id="learning_lang" name="learning_lang">
              {% for lang in language_options %}
                {% if lang.id == userinfo.learning_lang %}
                  <option selected data-char="{{ lang.charcode }}" value="{{ lang.id }}">{{ lang.name }}</option>
                {% else %}
                  <option data-char="{{ lang.charcode }}" value="{{ lang.id }}">{{ lang.name }}</option>
                {% endif %}
              {% endfor %}
            </select>
          </div>
          <button class="btn btn-primary" type="submit">Save Preferences</button>
      </fieldset>
    </form>

    <form class="mx-auto centered" action="/updatepassword" method="post">
        <fieldset>
            <legend>Change password</legend>
            <div class="form-group">
              <label for="password">Password</label>
              <input class="form-control" name="password" id="password" placeholder="Password" type="password">
            </div>
            <div class="form-group">
              <label for="confirmation">Retype Password</label>
              <input class="form-control" name="confirmation" id="confirmation" placeholder="Confirm Password" type="password">
            </div>
            <button class="btn btn-primary" type="submit">Update Password</button>
        </fieldset>
    </form>
{% endblock %}
